var mr=Object.defineProperty;var hr=(e,r,n)=>r in e?mr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var Ge=(e,r,n)=>hr(e,typeof r!="symbol"?r+"":r,n);import{r as y,c as fr,b as pr,g as Ie,e as Xe,R as jt}from"./vendor-o6zXO7vr.js";import{d as xr,a as W,L as he,T as J,S as I,B as M,R as oe,b as gr,M as vr,c as Pe,e as bt,f as $,F as C,C as R,A as yr,I as Te,g as _e,h as wt,D as fe,i as B,j as E,k as A,l as jr,s as N,m as Re,n as St,o as br,p as wr,q as Ct,r as Sr,t as st,u as Et,v as Cr,w as Er,x as _r,E as _t,y as we,z as Rr,G as Ir,H as Pr}from"./antd-Be4jR0EL.js";import{a as Se,v as Tr}from"./utils-Bj9EIr-X.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Rt={exports:{}},$e={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=y,Or=Symbol.for("react.element"),Mr=Symbol.for("react.fragment"),Ar=Object.prototype.hasOwnProperty,Lr=$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dr={key:!0,ref:!0,__self:!0,__source:!0};function It(e,r,n){var s,o={},i=null,a=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(a=r.ref);for(s in r)Ar.call(r,s)&&!Dr.hasOwnProperty(s)&&(o[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)o[s]===void 0&&(o[s]=r[s]);return{$$typeof:Or,type:e,key:i,ref:a,props:o,_owner:Lr.current}}$e.Fragment=Mr;$e.jsx=It;$e.jsxs=It;Rt.exports=$e;var t=Rt.exports,Ke={},ot=fr;Ke.createRoot=ot.createRoot,Ke.hydrateRoot=ot.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pe.apply(this,arguments)}var q;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(q||(q={}));const it="popstate";function Nr(e){e===void 0&&(e={});function r(s,o){let{pathname:i,search:a,hash:l}=s.location;return Qe("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Tt(o)}return Br(r,n,null,e)}function P(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Pt(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function kr(){return Math.random().toString(36).substr(2,8)}function at(e,r){return{usr:e.state,key:e.key,idx:r}}function Qe(e,r,n,s){return n===void 0&&(n=null),pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?ae(r):r,{state:n,key:r&&r.key||s||kr()})}function Tt(e){let{pathname:r="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function ae(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function Br(e,r,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:i=!1}=s,a=o.history,l=q.Pop,c=null,p=h();p==null&&(p=0,a.replaceState(pe({},a.state,{idx:p}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=q.Pop;let m=h(),b=m==null?null:m-p;p=m,c&&c({action:l,location:d.location,delta:b})}function u(m,b){l=q.Push;let v=Qe(d.location,m,b);p=h()+1;let g=at(v,p),S=d.createHref(v);try{a.pushState(g,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(S)}i&&c&&c({action:l,location:d.location,delta:1})}function x(m,b){l=q.Replace;let v=Qe(d.location,m,b);p=h();let g=at(v,p),S=d.createHref(v);a.replaceState(g,"",S),i&&c&&c({action:l,location:d.location,delta:0})}function j(m){let b=o.location.origin!=="null"?o.location.origin:o.location.href,v=typeof m=="string"?m:Tt(m);return v=v.replace(/ $/,"%20"),P(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let d={get action(){return l},get location(){return e(o,a)},listen(m){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(it,f),c=m,()=>{o.removeEventListener(it,f),c=null}},createHref(m){return r(o,m)},createURL:j,encodeLocation(m){let b=j(m);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:u,replace:x,go(m){return a.go(m)}};return d}var lt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lt||(lt={}));function zr(e,r,n){return n===void 0&&(n="/"),Fr(e,r,n)}function Fr(e,r,n,s){let o=typeof r=="string"?ae(r):r,i=Mt(o.pathname||"/",n);if(i==null)return null;let a=$t(e);Ur(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let p=en(i);l=Qr(a[c],p)}return l}function $t(e,r,n,s){r===void 0&&(r=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(P(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let p=Z([s,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(P(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),$t(i.children,r,h,p)),!(i.path==null&&!i.index)&&r.push({path:p,score:Jr(p,i.index),routesMeta:h})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,a);else for(let c of Ot(i.path))o(i,a,c)}),r}function Ot(e){let r=e.split("/");if(r.length===0)return[];let[n,...s]=r,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return o?[i,""]:[i];let a=Ot(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),o&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ur(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:Kr(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Yr=/^:[\w-]+$/,Gr=3,Hr=2,Wr=1,qr=10,Vr=-2,ct=e=>e==="*";function Jr(e,r){let n=e.split("/"),s=n.length;return n.some(ct)&&(s+=Vr),r&&(s+=Hr),n.filter(o=>!ct(o)).reduce((o,i)=>o+(Yr.test(i)?Gr:i===""?Wr:qr),s)}function Kr(e,r){return e.length===r.length&&e.slice(0,-1).every((s,o)=>s===r[o])?e[e.length-1]-r[r.length-1]:0}function Qr(e,r,n){let{routesMeta:s}=e,o={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],p=l===s.length-1,h=i==="/"?r:r.slice(i.length)||"/",f=Zr({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},h),u=c.route;if(!f)return null;Object.assign(o,f.params),a.push({params:o,pathname:Z([i,f.pathname]),pathnameBase:sn(Z([i,f.pathnameBase])),route:u}),f.pathnameBase!=="/"&&(i=Z([i,f.pathnameBase]))}return a}function Zr(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Xr(e.path,e.caseSensitive,e.end),o=r.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:s.reduce((p,h,f)=>{let{paramName:u,isOptional:x}=h;if(u==="*"){let d=l[f]||"";a=i.slice(0,i.length-d.length).replace(/(.)\/+$/,"$1")}const j=l[f];return x&&!j?p[u]=void 0:p[u]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:a,pattern:e}}function Xr(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Pt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]}function en(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Pt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Mt(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function tn(e,r){r===void 0&&(r="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?ae(e):e;return{pathname:n?n.startsWith("/")?n:rn(n,r):r,search:on(s),hash:an(o)}}function rn(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function He(e,r,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nn(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function At(e,r){let n=nn(e);return r?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Lt(e,r,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=ae(e):(o=pe({},e),P(!o.pathname||!o.pathname.includes("?"),He("?","pathname","search",o)),P(!o.pathname||!o.pathname.includes("#"),He("#","pathname","hash",o)),P(!o.search||!o.search.includes("#"),He("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,l;if(a==null)l=n;else{let f=r.length-1;if(!s&&a.startsWith("..")){let u=a.split("/");for(;u[0]==="..";)u.shift(),f-=1;o.pathname=u.join("/")}l=f>=0?r[f]:"/"}let c=tn(o,l),p=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(p||h)&&(c.pathname+="/"),c}const Z=e=>e.join("/").replace(/\/\/+/g,"/"),sn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),on=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,an=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ln(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Dt=["post","put","patch","delete"];new Set(Dt);const cn=["get",...Dt];new Set(cn);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xe.apply(this,arguments)}const et=y.createContext(null),dn=y.createContext(null),ve=y.createContext(null),Oe=y.createContext(null),ee=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Nt=y.createContext(null);function ye(){return y.useContext(Oe)!=null}function Me(){return ye()||P(!1),y.useContext(Oe).location}function kt(e){y.useContext(ve).static||y.useLayoutEffect(e)}function Ae(){let{isDataRoute:e}=y.useContext(ee);return e?Sn():un()}function un(){ye()||P(!1);let e=y.useContext(et),{basename:r,future:n,navigator:s}=y.useContext(ve),{matches:o}=y.useContext(ee),{pathname:i}=Me(),a=JSON.stringify(At(o,n.v7_relativeSplatPath)),l=y.useRef(!1);return kt(()=>{l.current=!0}),y.useCallback(function(p,h){if(h===void 0&&(h={}),!l.current)return;if(typeof p=="number"){s.go(p);return}let f=Lt(p,JSON.parse(a),i,h.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:Z([r,f.pathname])),(h.replace?s.replace:s.push)(f,h.state,h)},[r,s,a,i,e])}function mn(e,r){return hn(e,r)}function hn(e,r,n,s){ye()||P(!1);let{navigator:o}=y.useContext(ve),{matches:i}=y.useContext(ee),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let p=Me(),h;if(r){var f;let m=typeof r=="string"?ae(r):r;c==="/"||(f=m.pathname)!=null&&f.startsWith(c)||P(!1),h=m}else h=p;let u=h.pathname||"/",x=u;if(c!=="/"){let m=c.replace(/^\//,"").split("/");x="/"+u.replace(/^\//,"").split("/").slice(m.length).join("/")}let j=zr(e,{pathname:x}),d=vn(j&&j.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Z([c,o.encodeLocation?o.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Z([c,o.encodeLocation?o.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n,s);return r&&d?y.createElement(Oe.Provider,{value:{location:xe({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:q.Pop}},d):d}function fn(){let e=wn(),r=ln(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),n?y.createElement("pre",{style:o},n):null,null)}const pn=y.createElement(fn,null);class xn extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?y.createElement(ee.Provider,{value:this.props.routeContext},y.createElement(Nt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gn(e){let{routeContext:r,match:n,children:s}=e,o=y.useContext(et);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(ee.Provider,{value:r},s)}function vn(e,r,n,s){var o;if(r===void 0&&(r=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(o=n)==null?void 0:o.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||P(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(p=h),f.route.id){let{loaderData:u,errors:x}=n,j=f.route.loader&&u[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){c=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((h,f,u)=>{let x,j=!1,d=null,m=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,d=f.route.errorElement||pn,c&&(p<0&&u===0?(Cn("route-fallback"),j=!0,m=null):p===u&&(j=!0,m=f.route.hydrateFallbackElement||null)));let b=r.concat(a.slice(0,u+1)),v=()=>{let g;return x?g=d:j?g=m:f.route.Component?g=y.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=h,y.createElement(gn,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?y.createElement(xn,{location:n.location,revalidation:n.revalidation,component:d,error:x,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var Bt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bt||{}),zt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zt||{});function yn(e){let r=y.useContext(et);return r||P(!1),r}function jn(e){let r=y.useContext(dn);return r||P(!1),r}function bn(e){let r=y.useContext(ee);return r||P(!1),r}function Ft(e){let r=bn(),n=r.matches[r.matches.length-1];return n.route.id||P(!1),n.route.id}function wn(){var e;let r=y.useContext(Nt),n=jn(),s=Ft();return r!==void 0?r:(e=n.errors)==null?void 0:e[s]}function Sn(){let{router:e}=yn(Bt.UseNavigateStable),r=Ft(zt.UseNavigateStable),n=y.useRef(!1);return kt(()=>{n.current=!0}),y.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,xe({fromRouteId:r},i)))},[e,r])}const dt={};function Cn(e,r,n){dt[e]||(dt[e]=!0)}function En(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function le(e){let{to:r,replace:n,state:s,relative:o}=e;ye()||P(!1);let{future:i,static:a}=y.useContext(ve),{matches:l}=y.useContext(ee),{pathname:c}=Me(),p=Ae(),h=Lt(r,At(l,i.v7_relativeSplatPath),c,o==="path"),f=JSON.stringify(h);return y.useEffect(()=>p(JSON.parse(f),{replace:n,state:s,relative:o}),[p,f,o,n,s]),null}function ne(e){P(!1)}function _n(e){let{basename:r="/",children:n=null,location:s,navigationType:o=q.Pop,navigator:i,static:a=!1,future:l}=e;ye()&&P(!1);let c=r.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:c,navigator:i,static:a,future:xe({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof s=="string"&&(s=ae(s));let{pathname:h="/",search:f="",hash:u="",state:x=null,key:j="default"}=s,d=y.useMemo(()=>{let m=Mt(h,c);return m==null?null:{location:{pathname:m,search:f,hash:u,state:x,key:j},navigationType:o}},[c,h,f,u,x,j,o]);return d==null?null:y.createElement(ve.Provider,{value:p},y.createElement(Oe.Provider,{children:n,value:d}))}function Rn(e){let{children:r,location:n}=e;return mn(Ze(r),n)}new Promise(()=>{});function Ze(e,r){r===void 0&&(r=[]);let n=[];return y.Children.forEach(e,(s,o)=>{if(!y.isValidElement(s))return;let i=[...r,o];if(s.type===y.Fragment){n.push.apply(n,Ze(s.props.children,i));return}s.type!==ne&&P(!1),!s.props.index||!s.props.children||P(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Ze(s.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const In="6";try{window.__reactRouterVersion=In}catch{}const Pn="startTransition",ut=pr[Pn];function Tn(e){let{basename:r,children:n,future:s,window:o}=e,i=y.useRef();i.current==null&&(i.current=Nr({window:o,v5Compat:!0}));let a=i.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:p}=s||{},h=y.useCallback(f=>{p&&ut?ut(()=>c(f)):c(f)},[c,p]);return y.useLayoutEffect(()=>a.listen(h),[a,h]),y.useEffect(()=>En(s),[s]),y.createElement(_n,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}var mt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mt||(mt={}));var ht;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ht||(ht={}));var Le={},Ut={exports:{}};(function(e){function r(n){return n&&n.__esModule?n:{default:n}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Ut);var De=Ut.exports,Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=void 0;var $n={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};Ne.default=$n;var ke={},je={},Be={},Yt={exports:{}},Gt={exports:{}},Ht={exports:{}},Wt={exports:{}};(function(e){function r(n){"@babel/helpers - typeof";return e.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e.exports.__esModule=!0,e.exports.default=e.exports,r(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Wt);var qt=Wt.exports,Vt={exports:{}};(function(e){var r=qt.default;function n(s,o){if(r(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,o||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Vt);var On=Vt.exports;(function(e){var r=qt.default,n=On;function s(o){var i=n(o,"string");return r(i)=="symbol"?i:i+""}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Ht);var Mn=Ht.exports;(function(e){var r=Mn;function n(s,o,i){return(o=r(o))in s?Object.defineProperty(s,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[o]=i,s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Gt);var An=Gt.exports;(function(e){var r=An;function n(o,i){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);i&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),a.push.apply(a,l)}return a}function s(o){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?n(Object(a),!0).forEach(function(l){r(o,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(l){Object.defineProperty(o,l,Object.getOwnPropertyDescriptor(a,l))})}return o}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Yt);var Ln=Yt.exports,ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.commonLocale=void 0;ze.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var Dn=De.default;Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var ft=Dn(Ln),Nn=ze,kn=(0,ft.default)((0,ft.default)({},Nn.commonLocale),{},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",week:"周",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪",yearFormat:"YYYY年",cellDateFormat:"D",monthBeforeYear:!1});Be.default=kn;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.default=void 0;const Bn={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]};be.default=Bn;var Jt=De.default;Object.defineProperty(je,"__esModule",{value:!0});je.default=void 0;var zn=Jt(Be),Fn=Jt(be);const Kt={lang:Object.assign({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},zn.default),timePickerLocale:Object.assign({},Fn.default)};Kt.lang.ok="确定";je.default=Kt;var Un=De.default;Object.defineProperty(ke,"__esModule",{value:!0});ke.default=void 0;var Yn=Un(je);ke.default=Yn.default;var Fe=De.default;Object.defineProperty(Le,"__esModule",{value:!0});Le.default=void 0;var Gn=Fe(Ne),Hn=Fe(ke),Wn=Fe(je),qn=Fe(be);const D="${label}不是一个有效的${type}",Vn={locale:"zh-cn",Pagination:Gn.default,DatePicker:Wn.default,TimePicker:qn.default,Calendar:Hn.default,global:{placeholder:"请选择",close:"关闭"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckAll:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:D,method:D,array:D,object:D,number:D,date:D,boolean:D,integer:D,float:D,regexp:D,email:D,url:D,hex:D},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};Le.default=Vn;var Jn=Le;const Kn=Ie(Jn);var Qn={exports:{}};(function(e,r){(function(n,s){e.exports=s(xr)})(Xe,function(n){function s(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var o=s(n),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(a,l){return l==="W"?a+"周":a+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(a,l){var c=100*a+l;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return o.default.locale(i,null,!0),i})})(Qn);const Zn={},pt=e=>{let r;const n=new Set,s=(h,f)=>{const u=typeof h=="function"?h(r):h;if(!Object.is(u,r)){const x=r;r=f??(typeof u!="object"||u===null)?u:Object.assign({},r,u),n.forEach(j=>j(r,x))}},o=()=>r,c={setState:s,getState:o,getInitialState:()=>p,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(Zn?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},p=r=e(s,o,c);return c},Xn=e=>e?pt(e):pt;var Qt={exports:{}},Zt={},Xt={exports:{}},er={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ie=y;function es(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var ts=typeof Object.is=="function"?Object.is:es,rs=ie.useState,ns=ie.useEffect,ss=ie.useLayoutEffect,os=ie.useDebugValue;function is(e,r){var n=r(),s=rs({inst:{value:n,getSnapshot:r}}),o=s[0].inst,i=s[1];return ss(function(){o.value=n,o.getSnapshot=r,We(o)&&i({inst:o})},[e,n,r]),ns(function(){return We(o)&&i({inst:o}),e(function(){We(o)&&i({inst:o})})},[e]),os(n),n}function We(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!ts(e,n)}catch{return!0}}function as(e,r){return r()}var ls=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?as:is;er.useSyncExternalStore=ie.useSyncExternalStore!==void 0?ie.useSyncExternalStore:ls;Xt.exports=er;var cs=Xt.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=y,ds=cs;function us(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var ms=typeof Object.is=="function"?Object.is:us,hs=ds.useSyncExternalStore,fs=Ue.useRef,ps=Ue.useEffect,xs=Ue.useMemo,gs=Ue.useDebugValue;Zt.useSyncExternalStoreWithSelector=function(e,r,n,s,o){var i=fs(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=xs(function(){function c(x){if(!p){if(p=!0,h=x,x=s(x),o!==void 0&&a.hasValue){var j=a.value;if(o(j,x))return f=j}return f=x}if(j=f,ms(h,x))return j;var d=s(x);return o!==void 0&&o(j,d)?(h=x,j):(h=x,f=d)}var p=!1,h,f,u=n===void 0?null:n;return[function(){return c(r())},u===null?void 0:function(){return c(u())}]},[r,n,s,o]);var l=hs(e,i[0],i[1]);return ps(function(){a.hasValue=!0,a.value=l},[l]),gs(l),l};Qt.exports=Zt;var vs=Qt.exports;const ys=Ie(vs),tr={},{useDebugValue:js}=jt,{useSyncExternalStoreWithSelector:bs}=ys;let xt=!1;const ws=e=>e;function Ss(e,r=ws,n){(tr?"production":void 0)!=="production"&&n&&!xt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xt=!0);const s=bs(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,n);return js(s),s}const Cs=e=>{(tr?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof e=="function"?Xn(e):e,n=(s,o)=>Ss(r,s,o);return Object.assign(n,r),n},Es=e=>Cs,_s={};function Rs(e,r){let n;try{n=e()}catch{return}return{getItem:o=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(o))!=null?i:null;return l instanceof Promise?l.then(a):a(l)},setItem:(o,i)=>n.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>n.removeItem(o)}}const ge=e=>r=>{try{const n=e(r);return n instanceof Promise?n:{then(s){return ge(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return ge(s)(n)}}}},Is=(e,r)=>(n,s,o)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...r},a=!1;const l=new Set,c=new Set;let p;try{p=i.getStorage()}catch{}if(!p)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},s,o);const h=ge(i.serialize),f=()=>{const m=i.partialize({...s()});let b;const v=h({state:m,version:i.version}).then(g=>p.setItem(i.name,g)).catch(g=>{b=g});if(b)throw b;return v},u=o.setState;o.setState=(m,b)=>{u(m,b),f()};const x=e((...m)=>{n(...m),f()},s,o);let j;const d=()=>{var m;if(!p)return;a=!1,l.forEach(v=>v(s()));const b=((m=i.onRehydrateStorage)==null?void 0:m.call(i,s()))||void 0;return ge(p.getItem.bind(p))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var g;return j=i.merge(v,(g=s())!=null?g:x),n(j,!0),f()}).then(()=>{b==null||b(j,void 0),a=!0,c.forEach(v=>v(j))}).catch(v=>{b==null||b(void 0,v)})};return o.persist={setOptions:m=>{i={...i,...m},m.getStorage&&(p=m.getStorage())},clearStorage:()=>{p==null||p.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>d(),hasHydrated:()=>a,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},d(),j||x},Ps=(e,r)=>(n,s,o)=>{let i={storage:Rs(()=>localStorage),partialize:d=>d,version:0,merge:(d,m)=>({...m,...d}),...r},a=!1;const l=new Set,c=new Set;let p=i.storage;if(!p)return e((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...d)},s,o);const h=()=>{const d=i.partialize({...s()});return p.setItem(i.name,{state:d,version:i.version})},f=o.setState;o.setState=(d,m)=>{f(d,m),h()};const u=e((...d)=>{n(...d),h()},s,o);o.getInitialState=()=>u;let x;const j=()=>{var d,m;if(!p)return;a=!1,l.forEach(v=>{var g;return v((g=s())!=null?g:u)});const b=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(d=s())!=null?d:u))||void 0;return ge(p.getItem.bind(p))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var g;const[S,w]=v;if(x=i.merge(w,(g=s())!=null?g:u),n(x,!0),S)return h()}).then(()=>{b==null||b(x,void 0),x=s(),a=!0,c.forEach(v=>v(x))}).catch(v=>{b==null||b(void 0,v)})};return o.persist={setOptions:d=>{i={...i,...d},d.storage&&(p=d.storage)},clearStorage:()=>{p==null||p.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>j(),hasHydrated:()=>a,onHydrate:d=>(l.add(d),()=>{l.delete(d)}),onFinishHydration:d=>(c.add(d),()=>{c.delete(d)})},i.skipHydration||j(),x||u},Ts=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((_s?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Is(e,r)):Ps(e,r),$s=Ts;var _=(e=>(e.KNIGHT="knight",e.FIGHTER="fighter",e.MAGE="mage",e.SAGE="sage",e))(_||{}),X=(e=>(e.MASTER="master",e.NORMAL="normal",e.NEWBIE="newbie",e))(X||{}),Ee=(e=>(e.DUNGEON="dungeon",e.BEAST_TRIAL="beast_trial",e.TOWER_CLIMB="tower_climb",e))(Ee||{}),se=(e=>(e.RECRUITING="recruiting",e.FULL="full",e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.CANCELLED="cancelled",e))(se||{}),ue=(e=>(e.CARRY="carry",e.EQUAL="equal",e))(ue||{}),tt=(e=>(e.ACTIVE="active",e.PENDING="pending",e.OFFLINE="offline",e))(tt||{});const me=[{id:"dungeon-normal",name:"普通副本",type:Ee.DUNGEON,maxPlayers:4,minCombatPower:5e4,dailyLimit:3,duration:30,difficulties:[{level:"简单",minCombatPower:5e4,rewards:["经验药水","金币"]},{level:"困难",minCombatPower:8e4,rewards:["高级装备","稀有材料"]},{level:"地狱",minCombatPower:12e4,rewards:["传说装备","神话材料"]}]},{id:"beast-trial",name:"圣兽试炼",type:Ee.BEAST_TRIAL,maxPlayers:6,minCombatPower:1e5,dailyLimit:2,duration:45,difficulties:[{level:"青龙",minCombatPower:1e5,rewards:["青龙精华","龙鳞"]},{level:"白虎",minCombatPower:12e4,rewards:["白虎精华","虎骨"]},{level:"朱雀",minCombatPower:15e4,rewards:["朱雀精华","凤羽"]},{level:"玄武",minCombatPower:18e4,rewards:["玄武精华","龟甲"]}]},{id:"tower-climb",name:"双人爬塔",type:Ee.TOWER_CLIMB,maxPlayers:2,minCombatPower:6e4,dailyLimit:5,duration:20,difficulties:[{level:"1-10层",minCombatPower:6e4,rewards:["塔币","经验"]},{level:"11-20层",minCombatPower:8e4,rewards:["高级塔币","技能书"]},{level:"21-30层",minCombatPower:1e5,rewards:["稀有塔币","装备强化石"]}]}],U={[_.KNIGHT]:{name:"骑士",description:"防御型职业，擅长保护队友",color:"#1890ff",icon:"🛡️"},[_.FIGHTER]:{name:"斗士",description:"近战输出职业，高攻击力",color:"#f5222d",icon:"⚔️"},[_.MAGE]:{name:"术士",description:"远程魔法职业，群体伤害",color:"#722ed1",icon:"🔮"},[_.SAGE]:{name:"贤者",description:"辅助治疗职业，团队支援",color:"#52c41a",icon:"✨"}},V={master:{name:"大佬",description:"实力超群，能够带队",color:"#faad14",minCombatPower:15e4},normal:{name:"普通",description:"实力达标，需要组队",color:"#1890ff",minCombatPower:8e4},newbie:{name:"萌新",description:"需要大佬带领",color:"#52c41a",minCombatPower:0}},qe={MAIN_DATA:"tastien-rooms.json",USER_INDEX:"tastien-users.json",STATISTICS:"tastien-stats.json"},Os={USER_PROFILE:"tastien_user_profile"},G={VERSION:"1.0.0",REFRESH_INTERVAL:3e4,MAX_ROOMS_PER_PAGE:20,MAX_MEMBERS_DISPLAY:6,GITHUB_API_BASE:"https://api.github.com",DEFAULT_AVATAR:"👤"};function Ms(e){const r=/(?:https?:\/\/)?(?:gist\.)?github\.com\/[^\/]+\/([a-f0-9]+)/i,n=e.match(r);return n?n[1]:e}class As{constructor(r,n){Ge(this,"gistId");Ge(this,"githubToken");this.gistId=Ms(r),this.githubToken=n}getHeaders(){const r={Accept:"application/vnd.github.v3+json","Content-Type":"application/json"};return this.githubToken&&(r.Authorization=`token ${this.githubToken}`),r}async getRooms(){var r;try{const s=(r=(await Se.get(`${G.GITHUB_API_BASE}/gists/${this.gistId}`,{headers:this.getHeaders()})).data.files[qe.MAIN_DATA])==null?void 0:r.content;return s?JSON.parse(s).rooms||[]:[]}catch(n){throw console.error("获取房间数据失败:",n),new Error("获取房间数据失败")}}async createRoom(r){try{const n=await this.getRooms();n.push(r),await this.updateGist({rooms:n,lastUpdated:new Date().toISOString(),version:G.VERSION})}catch(n){throw console.error("创建房间失败:",n),new Error("创建房间失败")}}async updateRoom(r,n){try{const s=await this.getRooms(),o=s.findIndex(i=>i.id===r);if(o===-1)throw new Error("房间不存在");s[o]={...s[o],...n,updatedAt:new Date().toISOString()},await this.updateGist({rooms:s,lastUpdated:new Date().toISOString(),version:G.VERSION})}catch(s){throw console.error("更新房间失败:",s),new Error("更新房间失败")}}async joinRoom(r,n){try{const o=(await this.getRooms()).find(a=>a.id===r);if(!o)throw new Error("房间不存在");if(o.members.length>=o.maxMembers)throw new Error("房间已满");if(o.members.some(a=>a.user.id===n.id))throw new Error("您已经在这个房间中");o.members.push({user:n,joinedAt:new Date().toISOString(),status:tt.ACTIVE}),o.members.length>=o.maxMembers&&(o.status=se.FULL),await this.updateRoom(r,o)}catch(s){throw console.error("加入房间失败:",s),s}}async leaveRoom(r,n){try{const o=(await this.getRooms()).find(i=>i.id===r);if(!o)throw new Error("房间不存在");o.members=o.members.filter(i=>i.user.id!==n),o.leader.id===n?o.status=se.CANCELLED:o.status===se.FULL&&o.members.length<o.maxMembers&&(o.status=se.RECRUITING),await this.updateRoom(r,o)}catch(s){throw console.error("离开房间失败:",s),s}}async deleteRoom(r,n){try{const s=await this.getRooms(),o=s.find(a=>a.id===r);if(!o)throw new Error("房间不存在");if(o.leader.id!==n)throw new Error("只有队长可以删除房间");const i=s.filter(a=>a.id!==r);await this.updateGist({rooms:i,lastUpdated:new Date().toISOString(),version:G.VERSION})}catch(s){throw console.error("删除房间失败:",s),s}}async updateGist(r){try{await Se.patch(`${G.GITHUB_API_BASE}/gists/${this.gistId}`,{files:{[qe.MAIN_DATA]:{content:JSON.stringify(r,null,2)}}},{headers:this.getHeaders()})}catch(n){throw console.error("更新Gist失败:",n),new Error("数据同步失败")}}async checkGistExists(){try{return await Se.get(`${G.GITHUB_API_BASE}/gists/${this.gistId}`,{headers:this.getHeaders()}),!0}catch{return!1}}async createGist(r="Tastien 游戏组队数据"){try{return(await Se.post(`${G.GITHUB_API_BASE}/gists`,{description:r,public:!1,files:{[qe.MAIN_DATA]:{content:JSON.stringify({rooms:[],lastUpdated:new Date().toISOString(),version:G.VERSION},null,2)}}},{headers:this.getHeaders()})).data.id}catch(n){throw console.error("创建Gist失败:",n),new Error("创建数据存储失败")}}}const Ls=()=>{const e="your_gist_id_here",r="your_github_token_here";return console.warn("⚠️ VITE_GIST_ID 未配置或使用默认值，请在 .env 文件中设置正确的 Gist ID"),console.warn("⚠️ VITE_GITHUB_TOKEN 未配置或使用默认值，请在 .env 文件中设置正确的 GitHub Token"),{gistId:e,githubToken:r,isConfigured:!1}},gt=Ls(),ce=new As(gt.gistId,gt.githubToken);var rr={exports:{}};(function(e,r){(function(n,s){e.exports=s()})(Xe,function(){var n="minute",s=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(i,a,l){var c=a.prototype;l.utc=function(d){var m={date:d,utc:!0,args:arguments};return new a(m)},c.utc=function(d){var m=l(this.toDate(),{locale:this.$L,utc:!0});return d?m.add(this.utcOffset(),n):m},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var p=c.parse;c.parse=function(d){d.utc&&(this.$u=!0),this.$utils().u(d.$offset)||(this.$offset=d.$offset),p.call(this,d)};var h=c.init;c.init=function(){if(this.$u){var d=this.$d;this.$y=d.getUTCFullYear(),this.$M=d.getUTCMonth(),this.$D=d.getUTCDate(),this.$W=d.getUTCDay(),this.$H=d.getUTCHours(),this.$m=d.getUTCMinutes(),this.$s=d.getUTCSeconds(),this.$ms=d.getUTCMilliseconds()}else h.call(this)};var f=c.utcOffset;c.utcOffset=function(d,m){var b=this.$utils().u;if(b(d))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof d=="string"&&(d=function(w){w===void 0&&(w="");var T=w.match(s);if(!T)return null;var k=(""+T[0]).match(o)||["-",0,0],K=k[0],Y=60*+k[1]+ +k[2];return Y===0?0:K==="+"?Y:-Y}(d),d===null))return this;var v=Math.abs(d)<=16?60*d:d,g=this;if(m)return g.$offset=v,g.$u=d===0,g;if(d!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(g=this.local().add(v+S,n)).$offset=v,g.$x.$localOffset=S}else g=this.utc();return g};var u=c.format;c.format=function(d){var m=d||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,m)},c.valueOf=function(){var d=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*d},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var x=c.toDate;c.toDate=function(d){return d==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var j=c.diff;c.diff=function(d,m,b){if(d&&this.$u===d.$u)return j.call(this,d,m,b);var v=this.local(),g=l(d).local();return j.call(v,g,m,b)}}})})(rr);var Ds=rr.exports;const Ns=Ie(Ds);var nr={exports:{}};(function(e,r){(function(n,s){e.exports=s()})(Xe,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(o,i,a){var l,c=function(u,x,j){j===void 0&&(j={});var d=new Date(u),m=function(b,v){v===void 0&&(v={});var g=v.timeZoneName||"short",S=b+"|"+g,w=s[S];return w||(w=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:g}),s[S]=w),w}(x,j);return m.formatToParts(d)},p=function(u,x){for(var j=c(u,x),d=[],m=0;m<j.length;m+=1){var b=j[m],v=b.type,g=b.value,S=n[v];S>=0&&(d[S]=parseInt(g,10))}var w=d[3],T=w===24?0:w,k=d[0]+"-"+d[1]+"-"+d[2]+" "+T+":"+d[4]+":"+d[5]+":000",K=+u;return(a.utc(k).valueOf()-(K-=K%1e3))/6e4},h=i.prototype;h.tz=function(u,x){u===void 0&&(u=l);var j,d=this.utcOffset(),m=this.toDate(),b=m.toLocaleString("en-US",{timeZone:u}),v=Math.round((m-new Date(b))/1e3/60),g=15*-Math.round(m.getTimezoneOffset()/15)-v;if(!Number(g))j=this.utcOffset(0,x);else if(j=a(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(g,!0),x){var S=j.utcOffset();j=j.add(d-S,"minute")}return j.$x.$timezone=u,j},h.offsetName=function(u){var x=this.$x.$timezone||a.tz.guess(),j=c(this.valueOf(),x,{timeZoneName:u}).find(function(d){return d.type.toLowerCase()==="timezonename"});return j&&j.value};var f=h.startOf;h.startOf=function(u,x){if(!this.$x||!this.$x.$timezone)return f.call(this,u,x);var j=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(j,u,x).tz(this.$x.$timezone,!0)},a.tz=function(u,x,j){var d=j&&x,m=j||x||l,b=p(+a(),m);if(typeof u!="string")return a(u).tz(m);var v=function(T,k,K){var Y=T-60*k*1e3,re=p(Y,K);if(k===re)return[Y,k];var Ye=p(Y-=60*(re-k)*1e3,K);return re===Ye?[Y,re]:[T-60*Math.min(re,Ye)*1e3,Math.max(re,Ye)]}(a.utc(u,d).valueOf(),b,m),g=v[0],S=v[1],w=a(g).utcOffset(S);return w.$x.$timezone=m,w},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(u){l=u}}})})(nr);var ks=nr.exports;const Bs=Ie(ks);W.extend(Ns);W.extend(Bs);const Q=e=>W(e).tz("Asia/Shanghai"),sr=(e,r="YYYY-MM-DD HH:mm")=>Q(e).format(r),or=(e,r)=>{const n=W(e.startTime),s=W(e.endTime),o=W(r.startTime),i=W(r.endTime);return n.isBefore(i)&&o.isBefore(s)},ir=()=>Tr(),zs=(e,r)=>e<r?0:e>=r*2?1:(e-r)/r,Fs=(e,r)=>{let n=0;for(const s of e)for(const o of r)if(or(s,o)){n++;break}return r.length>0?n/r.length:0},Us=(e,r)=>{const n=[];for(let s=0;s<e.length;s+=r)n.push(e.slice(s,s+r));return n},ar=e=>({recruiting:"green",full:"orange",in_progress:"blue",completed:"default",cancelled:"red"})[e]||"default",lr=e=>({recruiting:"招募中",full:"已满员",in_progress:"进行中",completed:"已完成",cancelled:"已取消"})[e]||e,cr=e=>{var n;const r=[];return(n=e.gameId)!=null&&n.trim()||r.push("游戏ID不能为空"),e.profession||r.push("请选择职业"),(!e.combatPower||e.combatPower<=0)&&r.push("战力必须大于0"),r},Ys=e=>{var n;const r=[];return(n=e.title)!=null&&n.trim()||r.push("房间标题不能为空"),e.activity||r.push("请选择活动"),e.difficulty||r.push("请选择难度"),(!e.maxMembers||e.maxMembers<=0)&&r.push("最大人数必须大于0"),r},dr=e=>e>=1e4?`${(e/1e4).toFixed(1)}万`:e.toString(),rt=Es()($s((e,r)=>({user:null,isLoggedIn:!1,rooms:[],currentRoom:null,loading:!1,error:null,activities:me,actions:{setUser:n=>{e({user:n,isLoggedIn:!0,error:null})},updateUserProfile:n=>{const{user:s}=r();if(s){const o={...s,...n,lastActive:Q().toISOString()};e({user:o})}},logout:()=>{e({user:null,isLoggedIn:!1,currentRoom:null,error:null})},loadRooms:async()=>{e({loading:!0,error:null});try{const s=(await ce.getRooms()).filter(o=>{const i=new Date(o.createdAt);return(new Date().getTime()-i.getTime())/(1e3*60*60)<24});e({rooms:s,loading:!1})}catch(n){console.error("加载房间失败:",n),e({error:n instanceof Error?n.message:"加载房间失败",loading:!1})}},createRoom:async n=>{const{user:s}=r();if(!s){e({error:"请先设置用户信息"});return}e({loading:!0,error:null});try{const o={...n,id:ir(),leader:s,members:[{user:s,joinedAt:Q().toISOString(),status:tt.ACTIVE}],createdAt:Q().toISOString(),updatedAt:Q().toISOString()};await ce.createRoom(o),await r().actions.loadRooms(),e({loading:!1})}catch(o){console.error("创建房间失败:",o),e({error:o instanceof Error?o.message:"创建房间失败",loading:!1})}},joinRoom:async n=>{const{user:s}=r();if(!s){e({error:"请先设置用户信息"});return}e({loading:!0,error:null});try{await ce.joinRoom(n,s),await r().actions.loadRooms(),e({loading:!1})}catch(o){console.error("加入房间失败:",o),e({error:o instanceof Error?o.message:"加入房间失败",loading:!1})}},leaveRoom:async n=>{const{user:s}=r();if(!s){e({error:"请先设置用户信息"});return}e({loading:!0,error:null});try{await ce.leaveRoom(n,s.id),await r().actions.loadRooms();const{currentRoom:o}=r();(o==null?void 0:o.id)===n&&e({currentRoom:null}),e({loading:!1})}catch(o){console.error("离开房间失败:",o),e({error:o instanceof Error?o.message:"离开房间失败",loading:!1})}},deleteRoom:async n=>{const{user:s}=r();if(!s){e({error:"请先设置用户信息"});return}e({loading:!0,error:null});try{await ce.deleteRoom(n,s.id),await r().actions.loadRooms();const{currentRoom:o}=r();(o==null?void 0:o.id)===n&&e({currentRoom:null}),e({loading:!1})}catch(o){console.error("删除房间失败:",o),e({error:o instanceof Error?o.message:"删除房间失败",loading:!1})}},setLoading:n=>{e({loading:n})},setError:n=>{e({error:n})}}}),{name:Os.USER_PROFILE,partialize:e=>({user:e.user,isLoggedIn:e.isLoggedIn})}));class Gs{calculateMatchScore(r,n){let s=0;const o=zs(r.combatPower,n.requirements.minCombatPower);s+=o*.4;const i=Fs(r.availableTime,n.schedule.timeSlots);s+=i*.3;const a=this.calculateProfessionScore(r.profession,n);s+=a*.2;const l=r.reputation.overall/100;return s+=l*.1,Math.min(s,1)}calculateProfessionScore(r,n){var i;return(i=n.requirements.preferredProfessions)!=null&&i.length?n.requirements.preferredProfessions.includes(r)?1:n.members.map(a=>a.user.profession).filter(a=>a===r).length>=2?.3:.6:.5}recommendRooms(r,n){return n.filter(s=>s.status==="recruiting"&&s.members.length<s.maxMembers&&r.combatPower>=s.requirements.minCombatPower).map(s=>({room:s,score:this.calculateMatchScore(r,s)})).sort((s,o)=>o.score-s.score).slice(0,10).map(s=>s.room)}optimizeBatchCarry(r,n,s,o){const i=s.maxPlayers,a=this.calculateMasterCapacity(r,s),l=n.filter(h=>h.combatPower>=s.minCombatPower&&this.hasTimeOverlap(h.availableTime,[o]));l.sort((h,f)=>{const u=h.reputation.overall+h.combatPower/1e3;return f.reputation.overall+f.combatPower/1e3-u});const c=[];return Us(l,i-1).forEach((h,f)=>{f<a&&c.push(h)}),c}calculateMasterCapacity(r,n){const s=Math.floor(n.dailyLimit/2),o=Math.floor(r.reputation.carryCount/10);return Math.min(s+o,n.dailyLimit)}hasTimeOverlap(r,n){for(const s of r)for(const o of n)if(or(s,o))return!0;return!1}suggestProfessionBalance(r,n){const s=r.map(l=>l.profession),o={[_.KNIGHT]:0,[_.FIGHTER]:0,[_.MAGE]:0,[_.SAGE]:0};s.forEach(l=>{o[l]++});const i=[],a=n-r.length;return n>=4?(o[_.KNIGHT]===0&&i.push(_.KNIGHT),o[_.SAGE]===0&&i.push(_.SAGE),o[_.FIGHTER]<2&&i.push(_.FIGHTER),o[_.MAGE]<2&&i.push(_.MAGE)):(o[_.SAGE]===0&&i.push(_.SAGE),o[_.FIGHTER]===0&&i.push(_.FIGHTER),o[_.MAGE]===0&&i.push(_.MAGE)),i.slice(0,a)}evaluateTeamPower(r,n){if(r.length===0)return{averagePower:0,minPower:0,maxPower:0,successRate:0};const s=r.map(c=>c.combatPower),o=s.reduce((c,p)=>c+p,0)/s.length,i=Math.min(...s),a=Math.max(...s);let l=0;if(i>=n.minCombatPower){const c=o/n.minCombatPower;l=Math.min(c*.8,1);const p=this.calculateProfessionBonus(r);l=Math.min(l+p,1)}return{averagePower:Math.round(o),minPower:i,maxPower:a,successRate:Math.round(l*100)/100}}calculateProfessionBonus(r){const s=new Set(r.map(o=>o.profession)).size;return Math.min(s*.05,.2)}}const vt=new Gs,nt=()=>{const{rooms:e,loading:r,actions:n}=rt(),[s,o]=y.useState(!1),i=y.useCallback(async()=>{o(!0);try{await n.loadRooms()}finally{o(!1)}},[n]);return{rooms:e,loading:r||s,refreshRooms:i,createRoom:n.createRoom,joinRoom:n.joinRoom,leaveRoom:n.leaveRoom}},Hs=()=>{const e=y.useCallback((n,s)=>vt.recommendRooms(n,s),[]),r=y.useCallback((n,s)=>vt.calculateMatchScore(n,s),[]);return{getRecommendedRooms:e,calculateMatchScore:r}},te=()=>{const{user:e,isLoggedIn:r,actions:n}=rt();return{user:e,isLoggedIn:r,setUser:n.setUser,updateUser:n.updateUserProfile,logout:n.logout}},Ws=()=>{const{loading:e,error:r,actions:n}=rt();return{loading:e,error:r,setLoading:n.setLoading,setError:n.setError,clearError:()=>n.setError(null)}},{Header:qs}=he,{Title:Vs}=J,Js=()=>{const e=Ae(),{user:r,isLoggedIn:n,logout:s}=te(),o=()=>{s(),e("/")};return t.jsxs(qs,{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("div",{style:{cursor:"pointer"},onClick:()=>e("/"),children:t.jsx(Vs,{level:3,style:{margin:0,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"🎮 Tastien"})}),n&&r&&t.jsxs(I,{children:[t.jsx(M,{type:"text",icon:t.jsx(oe,{}),onClick:()=>e("/profile"),children:r.gameId}),t.jsx(M,{type:"text",icon:t.jsx(gr,{}),onClick:o,danger:!0,children:"退出"})]})]})},{Sider:Ks}=he,Qs=()=>{const e=Ae(),r=Me(),n=[{key:"/teams",icon:t.jsx(Pe,{}),label:"组队大厅"},{key:"/profile",icon:t.jsx(oe,{}),label:"个人资料"},{key:"/statistics",icon:t.jsx(bt,{}),label:"数据统计"}];return t.jsx(Ks,{width:240,style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRight:"1px solid rgba(0, 0, 0, 0.06)"},children:t.jsx(vr,{mode:"inline",selectedKeys:[r.pathname],style:{background:"transparent",border:"none",padding:"16px 0"},items:n,onClick:({key:s})=>e(s)})})},{Title:Zs,Paragraph:yt}=J,{Option:Xs}=$,eo=()=>{const e=Ae(),{setUser:r}=te(),[n]=C.useForm(),[s,o]=y.useState(!1),i=async a=>{o(!0);try{const l=cr(a);if(l.length>0){n.setFields(l.map(h=>({name:"",errors:[h]})));return}let c=X.NEWBIE;a.combatPower>=V.master.minCombatPower?c=X.MASTER:a.combatPower>=V.normal.minCombatPower&&(c=X.NORMAL);const p={id:ir(),gameId:a.gameId.trim(),profession:a.profession,combatPower:a.combatPower,playerType:c,availableTime:[],preferences:{autoJoin:!1,notifications:!0,preferredActivities:[]},reputation:{overall:75,punctuality:75,skillMatch:75,teamwork:75,carryCount:0,participationCount:0},createdAt:Q().toISOString(),lastActive:Q().toISOString()};r(p),e("/teams")}catch(l){console.error("创建用户失败:",l)}finally{o(!1)}};return t.jsx("div",{style:{padding:"40px 20px",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 64px)"},children:t.jsxs(R,{className:"glass-card",style:{width:"100%",maxWidth:500,textAlign:"center"},children:[t.jsxs("div",{style:{marginBottom:32},children:[t.jsx(Zs,{level:2,style:{marginBottom:8},children:"🎮 欢迎来到 Tastien"}),t.jsx(yt,{type:"secondary",children:"高效的游戏组队系统，让你快速找到合适的队友"})]}),t.jsx(yr,{message:"开始使用",description:"请填写您的游戏信息，系统将根据您的战力自动分配玩家类型",type:"info",showIcon:!0,style:{marginBottom:24,textAlign:"left"}}),t.jsxs(C,{form:n,layout:"vertical",onFinish:i,size:"large",children:[t.jsx(C.Item,{name:"gameId",label:"游戏ID",rules:[{required:!0,message:"请输入游戏ID"},{min:2,message:"游戏ID至少2个字符"},{max:20,message:"游戏ID最多20个字符"}],children:t.jsx(Te,{prefix:t.jsx(oe,{}),placeholder:"请输入您的游戏ID"})}),t.jsx(C.Item,{name:"profession",label:"职业",rules:[{required:!0,message:"请选择职业"}],children:t.jsx($,{placeholder:"请选择您的职业",children:Object.entries(U).map(([a,l])=>t.jsx(Xs,{value:a,children:t.jsxs(I,{children:[t.jsx("span",{children:l.icon}),t.jsx("span",{children:l.name}),t.jsx("span",{style:{color:"#8c8c8c",fontSize:"12px"},children:l.description})]})},a))})}),t.jsx(C.Item,{name:"combatPower",label:"当前战力",rules:[{required:!0,message:"请输入战力"},{type:"number",min:1,message:"战力必须大于0"}],children:t.jsx(_e,{prefix:t.jsx(wt,{}),placeholder:"请输入您的战力",style:{width:"100%"},formatter:a=>`${a}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:a=>Number(a.replace(/\$\s?|(,*)/g,""))})}),t.jsx(fe,{}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx(yt,{type:"secondary",style:{fontSize:"12px"},children:"玩家类型将根据战力自动分配："}),t.jsx(I,{direction:"vertical",size:"small",style:{width:"100%"},children:Object.entries(V).map(([a,l])=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#8c8c8c"},children:[t.jsx("span",{style:{color:l.color},children:l.name}),t.jsx("span",{children:l.minCombatPower>0?`${l.minCombatPower.toLocaleString()}+ 战力`:"新手玩家"})]},a))})]}),t.jsx(C.Item,{children:t.jsx(M,{type:"primary",htmlType:"submit",loading:s,size:"large",style:{width:"100%"},children:"开始组队之旅"})})]})]})})},{Option:L}=$,{Title:Ve,Text:to}=J,ro=()=>{var a,l,c,p;const{user:e,updateUser:r}=te(),[n]=C.useForm(),[s,o]=y.useState(!1);y.useEffect(()=>{e&&n.setFieldsValue({gameId:e.gameId,profession:e.profession,combatPower:e.combatPower,playerType:e.playerType,preferences:{preferredActivities:e.preferences.preferredActivities,preferredTimeSlots:e.preferences.preferredTimeSlots,preferredDifficulties:e.preferences.preferredDifficulties,isFlexibleTime:e.preferences.isFlexibleTime}})},[e,n]);const i=async h=>{var f,u,x,j,d,m;o(!0);try{let b=X.NORMAL;h.combatPower>=15e4?b=X.MASTER:h.combatPower<8e4&&(b=X.NEWBIE);const v={gameId:h.gameId,profession:h.profession,combatPower:h.combatPower,playerType:b,preferences:{autoJoin:((f=h.preferences)==null?void 0:f.autoJoin)||!1,notifications:((u=h.preferences)==null?void 0:u.notifications)||!0,preferredActivities:((x=h.preferences)==null?void 0:x.preferredActivities)||[],preferredTimeSlots:((j=h.preferences)==null?void 0:j.preferredTimeSlots)||[],preferredDifficulties:((d=h.preferences)==null?void 0:d.preferredDifficulties)||[],isFlexibleTime:((m=h.preferences)==null?void 0:m.isFlexibleTime)||!0}},g=cr(v);if(g.length>0){N.error(g[0]);return}await r(v),N.success("个人资料更新成功！")}catch(b){console.error("更新个人资料失败:",b),N.error("更新个人资料失败")}finally{o(!1)}};return e?t.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:t.jsx(R,{title:t.jsxs(I,{children:[t.jsx(oe,{}),"个人资料"]}),children:t.jsxs(C,{form:n,layout:"vertical",onFinish:i,initialValues:{preferences:{isFlexibleTime:!0}},children:[t.jsx(Ve,{level:4,children:"基本信息"}),t.jsxs(B,{gutter:[16,16],children:[t.jsx(E,{xs:24,sm:12,children:t.jsx(C.Item,{name:"gameId",label:"游戏ID",rules:[{required:!0,message:"请输入游戏ID"},{min:2,max:20,message:"游戏ID长度为2-20个字符"}],children:t.jsx(Te,{placeholder:"请输入您的游戏ID"})})}),t.jsx(E,{xs:24,sm:12,children:t.jsx(C.Item,{name:"profession",label:"职业",rules:[{required:!0,message:"请选择职业"}],children:t.jsx($,{placeholder:"选择您的职业",children:Object.entries(U).map(([h,f])=>t.jsx(L,{value:h,children:t.jsxs(I,{children:[t.jsx("span",{children:f.icon}),t.jsx("span",{children:f.name})]})},h))})})})]}),t.jsxs(B,{gutter:[16,16],children:[t.jsx(E,{xs:24,sm:12,children:t.jsx(C.Item,{name:"combatPower",label:"战力",rules:[{required:!0,message:"请输入战力"},{type:"number",min:1,message:"战力必须大于0"}],children:t.jsx(_e,{style:{width:"100%"},placeholder:"请输入您的战力",formatter:h=>`${h}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:h=>Number(h.replace(/\$\s?|(,*)/g,""))})})}),t.jsx(E,{xs:24,sm:12,children:t.jsx(C.Item,{label:"玩家类型",children:t.jsxs("div",{children:[t.jsx(A,{color:V[e.playerType].color,children:V[e.playerType].name}),t.jsx(to,{type:"secondary",style:{marginLeft:"8px"},children:"(根据战力自动分配)"})]})})})]}),t.jsx(fe,{}),t.jsx(Ve,{level:4,children:"游戏偏好"}),t.jsxs(B,{gutter:[16,16],children:[t.jsx(E,{xs:24,sm:12,children:t.jsx(C.Item,{name:["preferences","preferredActivities"],label:"偏好活动",children:t.jsxs($,{mode:"multiple",placeholder:"选择您偏好的活动类型",allowClear:!0,children:[t.jsx(L,{value:"normal_dungeon",children:"普通副本"}),t.jsx(L,{value:"beast_trial",children:"圣兽试炼"}),t.jsx(L,{value:"duo_tower",children:"双人爬塔"})]})})}),t.jsx(E,{xs:24,sm:12,children:t.jsx(C.Item,{name:["preferences","preferredDifficulties"],label:"偏好难度",children:t.jsxs($,{mode:"multiple",placeholder:"选择您偏好的难度等级",allowClear:!0,children:[t.jsx(L,{value:"简单",children:"简单"}),t.jsx(L,{value:"普通",children:"普通"}),t.jsx(L,{value:"困难",children:"困难"}),t.jsx(L,{value:"地狱",children:"地狱"}),t.jsx(L,{value:"噩梦",children:"噩梦"})]})})})]}),t.jsx(B,{gutter:[16,16],children:t.jsx(E,{xs:24,children:t.jsx(C.Item,{name:["preferences","preferredTimeSlots"],label:"偏好时间段",children:t.jsxs($,{mode:"multiple",placeholder:"选择您的游戏时间段",allowClear:!0,children:[t.jsx(L,{value:"morning",children:"上午 (9:00-12:00)"}),t.jsx(L,{value:"afternoon",children:"下午 (12:00-18:00)"}),t.jsx(L,{value:"evening",children:"晚上 (18:00-22:00)"}),t.jsx(L,{value:"night",children:"深夜 (22:00-2:00)"}),t.jsx(L,{value:"dawn",children:"凌晨 (2:00-9:00)"})]})})})}),t.jsx(fe,{}),t.jsx(Ve,{level:4,children:"统计信息"}),t.jsxs(B,{gutter:[16,16],children:[t.jsx(E,{xs:24,sm:8,children:t.jsx(R,{size:"small",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"},children:((l=(a=e.reputation)==null?void 0:a.overall)==null?void 0:l.toFixed(1))||"0.0"}),t.jsx("div",{style:{color:"#666"},children:"信誉评分"})]})})}),t.jsx(E,{xs:24,sm:8,children:t.jsx(R,{size:"small",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"},children:((c=e.reputation)==null?void 0:c.participationCount)||0}),t.jsx("div",{style:{color:"#666"},children:"参与次数"})]})})}),t.jsx(E,{xs:24,sm:8,children:t.jsx(R,{size:"small",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#fa8c16"},children:((p=e.reputation)==null?void 0:p.carryCount)||0}),t.jsx("div",{style:{color:"#666"},children:"带队次数"})]})})})]}),t.jsx(C.Item,{style:{marginTop:"24px",textAlign:"right"},children:t.jsx(M,{type:"primary",htmlType:"submit",icon:t.jsx(jr,{}),loading:s,size:"large",children:"保存资料"})})]})})}):t.jsx(R,{children:t.jsxs("div",{style:{textAlign:"center",padding:"40px 0"},children:[t.jsx(oe,{style:{fontSize:"48px",color:"#ccc",marginBottom:"16px"}}),t.jsx("div",{children:"请先登录"})]})})},{Text:z,Title:no}=J,ur=({user:e,compact:r=!1})=>{const n=U[e.profession],s=V[e.playerType];return r?t.jsxs(I,{children:[t.jsx(Re,{size:"small",children:n.icon}),t.jsx(z,{strong:!0,children:e.gameId}),t.jsx(A,{color:s.color,children:s.name})]}):t.jsxs(R,{className:"glass-card",style:{marginBottom:16},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:16},children:[t.jsx(Re,{size:64,style:{backgroundColor:n.color},children:n.icon}),t.jsx(no,{level:4,style:{margin:"8px 0 4px"},children:e.gameId}),t.jsxs(I,{children:[t.jsx(A,{color:n.color,children:n.name}),t.jsx(A,{color:s.color,children:s.name})]})]}),t.jsx(fe,{style:{margin:"12px 0"}}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsx(z,{type:"secondary",children:"战力"}),t.jsx(z,{strong:!0,style:{color:"#1890ff"},children:dr(e.combatPower)})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsx(z,{type:"secondary",children:"信誉评分"}),t.jsxs(z,{strong:!0,style:{color:e.reputation.overall>=80?"#52c41a":"#faad14"},children:[e.reputation.overall,"分"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsx(z,{type:"secondary",children:"参与次数"}),t.jsxs(z,{children:[e.reputation.participationCount,"次"]})]}),e.playerType==="master"&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(z,{type:"secondary",children:"带队次数"}),t.jsxs(z,{children:[e.reputation.carryCount,"次"]})]})]})]})},{Text:F,Title:so}=J,oo=({room:e,onJoin:r,onView:n,currentUserId:s})=>{var l;const o=e.members.length<e.maxMembers&&e.status==="recruiting"&&!e.members.some(c=>c.user.id===s),i=e.leader.id===s,a=e.members.some(c=>c.user.id===s);return t.jsxs(R,{className:"room-card glass-card",style:{marginBottom:16},hoverable:!0,children:[t.jsxs("div",{className:"room-header",children:[t.jsxs("div",{children:[t.jsx(so,{level:5,style:{margin:0,marginBottom:4},children:e.title}),t.jsxs(I,{size:"small",children:[t.jsx(A,{color:"blue",children:e.activity.name}),t.jsx(A,{color:"orange",children:e.difficulty}),t.jsx(A,{color:e.mode==="carry"?"gold":"green",children:e.mode==="carry"?"大佬带队":"平等组队"})]})]}),t.jsx(A,{color:ar(e.status),children:lr(e.status)})]}),t.jsxs("div",{className:"room-info",children:[t.jsx("div",{style:{marginBottom:12},children:t.jsxs(I,{children:[t.jsx(ur,{user:e.leader,compact:!0}),t.jsx(F,{type:"secondary",children:"(队长)"})]})}),t.jsxs("div",{style:{marginBottom:12},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsxs(F,{type:"secondary",children:[t.jsx(Pe,{})," 队伍人数"]}),t.jsxs(F,{strong:!0,children:[e.members.length,"/",e.maxMembers]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsx(F,{type:"secondary",children:"战力要求"}),t.jsxs(F,{children:[dr(e.requirements.minCombatPower),"+"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsxs(F,{type:"secondary",children:[t.jsx(St,{})," 创建时间"]}),t.jsx(F,{children:sr(e.createdAt,"MM-DD HH:mm")})]})]}),e.members.length>1&&t.jsxs("div",{style:{marginBottom:12},children:[t.jsx(F,{type:"secondary",style:{marginBottom:8,display:"block"},children:"队员列表:"}),t.jsx(Re.Group,{maxCount:4,size:"small",children:e.members.slice(1).map((c,p)=>{const h=U[c.user.profession];return t.jsx(br,{title:`${c.user.gameId} (${h.name})`,children:t.jsx(Re,{style:{backgroundColor:h.color},size:"small",children:h.icon})},p)})})]}),((l=e.requirements.preferredProfessions)==null?void 0:l.length)>0&&t.jsxs("div",{style:{marginBottom:12},children:[t.jsx(F,{type:"secondary",style:{marginBottom:4,display:"block"},children:"偏好职业:"}),t.jsx(I,{size:"small",children:e.requirements.preferredProfessions.map(c=>{const p=U[c];return t.jsxs(A,{color:p.color,children:[p.icon," ",p.name]},c)})})]})]}),t.jsxs("div",{className:"room-actions",children:[t.jsx(M,{icon:t.jsx(wr,{}),onClick:()=>n==null?void 0:n(e.id),children:"查看详情"}),o&&t.jsx(M,{type:"primary",icon:t.jsx(oe,{}),onClick:()=>r==null?void 0:r(e.id),children:"加入队伍"}),a&&!i&&t.jsx(M,{danger:!0,children:"离开队伍"}),i&&t.jsx(M,{type:"primary",ghost:!0,children:"管理房间"})]})]})},{Option:de}=$,{Text:Ce}=J,io=({visible:e,onCancel:r,onSuccess:n})=>{const{user:s}=te(),{createRoom:o}=nt(),[i]=C.useForm(),[a,l]=y.useState(!1),[c,p]=y.useState(""),h=async u=>{if(!s){N.error("用户信息不存在");return}l(!0);try{const x=me.find(m=>m.id===u.activity);if(!x){N.error("请选择有效的活动");return}const j={title:u.title,activity:x,difficulty:u.difficulty,leader:s,members:[],maxMembers:u.maxMembers||x.maxPlayers,requirements:{minCombatPower:u.minCombatPower||x.minCombatPower,preferredProfessions:u.preferredProfessions||[],playerTypes:u.playerTypes||["master","normal","newbie"]},schedule:{timeSlots:[],isFlexible:u.flexibleTime||!0},status:se.RECRUITING,mode:u.mode||ue.EQUAL},d=Ys(j);if(d.length>0){N.error(d[0]);return}await o(j),N.success("房间创建成功！"),i.resetFields(),n()}catch(x){console.error("创建房间失败:",x),N.error("创建房间失败")}finally{l(!1)}},f=me.find(u=>u.id===c);return t.jsx(Ct,{title:t.jsxs(I,{children:[t.jsx(Pe,{}),"创建房间"]}),open:e,onCancel:r,footer:null,width:600,destroyOnHidden:!0,children:t.jsxs(C,{form:i,layout:"vertical",onFinish:h,initialValues:{mode:ue.EQUAL,flexibleTime:!0,playerTypes:["master","normal","newbie"]},children:[t.jsx(C.Item,{name:"title",label:"房间标题",rules:[{required:!0,message:"请输入房间标题"},{max:50,message:"标题最多50个字符"}],children:t.jsx(Te,{placeholder:"为您的房间起个响亮的名字"})}),t.jsx(C.Item,{name:"activity",label:"活动类型",rules:[{required:!0,message:"请选择活动类型"}],children:t.jsx($,{placeholder:"选择要进行的活动",onChange:p,children:me.map(u=>t.jsx(de,{value:u.id,children:t.jsxs("div",{children:[t.jsx("div",{children:u.name}),t.jsxs(Ce,{type:"secondary",style:{fontSize:"12px"},children:[u.maxPlayers,"人 • 最低",u.minCombatPower,"战力 • ",u.duration,"分钟"]})]})},u.id))})}),f&&t.jsx(C.Item,{name:"difficulty",label:"难度选择",rules:[{required:!0,message:"请选择难度"}],children:t.jsx($,{placeholder:"选择挑战难度",children:f.difficulties.map(u=>t.jsx(de,{value:u.level,children:t.jsxs("div",{children:[t.jsx("div",{children:u.level}),t.jsxs(Ce,{type:"secondary",style:{fontSize:"12px"},children:["最低",u.minCombatPower,"战力 • 奖励: ",u.rewards.join(", ")]})]})},u.level))})}),t.jsx(C.Item,{name:"mode",label:"组队模式",rules:[{required:!0,message:"请选择组队模式"}],children:t.jsxs($,{children:[t.jsx(de,{value:ue.EQUAL,children:t.jsxs("div",{children:[t.jsx("div",{children:"平等组队"}),t.jsx(Ce,{type:"secondary",style:{fontSize:"12px"},children:"所有成员平等参与，共同完成挑战"})]})}),t.jsx(de,{value:ue.CARRY,children:t.jsxs("div",{children:[t.jsx("div",{children:"大佬带队"}),t.jsx(Ce,{type:"secondary",style:{fontSize:"12px"},children:"高战力玩家带领低战力玩家"})]})})]})}),t.jsx(fe,{orientation:"left",children:"高级设置"}),t.jsx(C.Item,{name:"maxMembers",label:"最大人数",tooltip:"不填写则使用活动默认人数",children:t.jsx(_e,{min:2,max:(f==null?void 0:f.maxPlayers)||6,placeholder:`默认 ${(f==null?void 0:f.maxPlayers)||4} 人`,style:{width:"100%"}})}),t.jsx(C.Item,{name:"minCombatPower",label:"最低战力要求",tooltip:"不填写则使用活动默认要求",children:t.jsx(_e,{min:1,placeholder:`默认 ${(f==null?void 0:f.minCombatPower)||5e4}`,style:{width:"100%"},formatter:u=>`${u}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")})}),t.jsx(C.Item,{name:"preferredProfessions",label:"偏好职业",tooltip:"选择希望加入的职业，不选择则接受所有职业",children:t.jsx($,{mode:"multiple",placeholder:"选择偏好的职业（可多选）",allowClear:!0,children:Object.entries(U).map(([u,x])=>t.jsx(de,{value:u,children:t.jsxs(I,{children:[t.jsx("span",{children:x.icon}),t.jsx("span",{children:x.name})]})},u))})}),t.jsx(C.Item,{name:"flexibleTime",label:"时间安排",valuePropName:"checked",children:t.jsx(Sr,{checkedChildren:"时间灵活",unCheckedChildren:"固定时间"})}),t.jsx(C.Item,{style:{marginBottom:0,textAlign:"right"},children:t.jsxs(I,{children:[t.jsx(M,{onClick:r,children:"取消"}),t.jsx(M,{type:"primary",htmlType:"submit",loading:a,children:"创建房间"})]})})]})})},{Title:ao,Text:lo}=J,{Option:H}=$,co=()=>{const{user:e}=te(),{rooms:r,refreshRooms:n,joinRoom:s}=nt(),{getRecommendedRooms:o}=Hs(),[i,a]=y.useState(!1),[l,c]=y.useState(""),[p,h]=y.useState(!1),[f]=y.useState(!1),[u,x]=y.useState({activity:"",status:"",mode:"",minCombatPower:0,maxCombatPower:999999}),j=e?o(e,r):[],d=r.filter(g=>!(u.activity&&g.activity.type!==u.activity||u.status&&g.status!==u.status||u.mode&&g.mode!==u.mode||g.requirements.minCombatPower<u.minCombatPower||g.requirements.minCombatPower>u.maxCombatPower));y.useEffect(()=>{n()},[n]);const m=d.filter(g=>g.title.toLowerCase().includes(l.toLowerCase())||g.activity.name.toLowerCase().includes(l.toLowerCase())||g.leader.gameId.toLowerCase().includes(l.toLowerCase())),b=async g=>{try{await s(g),N.success("成功加入房间！")}catch{N.error("加入房间失败")}},v=g=>{const S=r.find(w=>w.id===g);S&&Ct.info({title:S.title,width:600,content:t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"活动："}),S.activity.name," - ",S.difficulty]}),t.jsxs("p",{children:[t.jsx("strong",{children:"队长："}),S.leader.gameId]}),t.jsxs("p",{children:[t.jsx("strong",{children:"人数："}),S.members.length,"/",S.maxMembers]}),t.jsxs("p",{children:[t.jsx("strong",{children:"战力要求："}),S.requirements.minCombatPower,"+"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"模式："}),S.mode==="carry"?"大佬带队":"平等组队"]}),S.members.length>0&&t.jsxs("div",{children:[t.jsx("p",{children:t.jsx("strong",{children:"队员列表："})}),S.members.map((w,T)=>t.jsxs("div",{style:{marginLeft:16},children:["• ",w.user.gameId," (",w.user.profession,")"]},T))]})]})})};return e?t.jsxs("div",{style:{padding:24},children:[t.jsxs(B,{gutter:24,children:[t.jsx(E,{xs:24,lg:6,children:t.jsxs("div",{style:{position:"sticky",top:24},children:[t.jsx(ur,{user:e}),j.length>0&&t.jsx(R,{title:"🎯 推荐房间",size:"small",className:"glass-card",style:{marginBottom:16},children:t.jsx("div",{style:{maxHeight:300,overflowY:"auto"},children:j.slice(0,3).map(g=>t.jsxs("div",{style:{padding:"8px 0",borderBottom:"1px solid #f0f0f0",cursor:"pointer"},onClick:()=>v(g.id),children:[t.jsx("div",{style:{fontWeight:500,marginBottom:4},children:g.title}),t.jsxs("div",{style:{fontSize:"12px",color:"#8c8c8c"},children:[g.activity.name," • ",g.members.length,"/",g.maxMembers,"人"]})]},g.id))})}),t.jsx(R,{title:"⚡ 快速操作",size:"small",className:"glass-card",children:t.jsxs(I,{direction:"vertical",style:{width:"100%"},children:[t.jsx(M,{type:"primary",icon:t.jsx(st,{}),block:!0,onClick:()=>a(!0),children:"创建房间"}),t.jsx(M,{icon:t.jsx(Et,{}),loading:f,block:!0,onClick:n,children:"刷新房间"})]})})]})}),t.jsxs(E,{xs:24,lg:18,children:[t.jsxs("div",{style:{marginBottom:24},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[t.jsx(ao,{level:3,style:{margin:0},children:"🏟️ 组队大厅"}),t.jsxs(lo,{type:"secondary",children:["共 ",m.length," 个房间"]})]}),t.jsxs(B,{gutter:16,children:[t.jsx(E,{flex:"auto",children:t.jsx(Te,{prefix:t.jsx(Cr,{}),placeholder:"搜索房间标题、活动或队长...",value:l,onChange:g=>c(g.target.value),allowClear:!0})}),t.jsx(E,{children:t.jsx(M,{icon:t.jsx(Er,{}),onClick:()=>h(!p),children:"筛选"})})]}),p&&t.jsx(R,{size:"small",style:{marginTop:16},children:t.jsxs(B,{gutter:16,children:[t.jsx(E,{span:6,children:t.jsxs($,{placeholder:"活动类型",value:u.activity||void 0,onChange:g=>x({...u,activity:g||""}),allowClear:!0,style:{width:"100%"},children:[t.jsx(H,{value:"dungeon",children:"副本"}),t.jsx(H,{value:"beast_trial",children:"圣兽试炼"}),t.jsx(H,{value:"tower_climb",children:"双人爬塔"})]})}),t.jsx(E,{span:6,children:t.jsxs($,{placeholder:"房间状态",value:u.status||void 0,onChange:g=>x({...u,status:g||""}),allowClear:!0,style:{width:"100%"},children:[t.jsx(H,{value:"recruiting",children:"招募中"}),t.jsx(H,{value:"full",children:"已满员"}),t.jsx(H,{value:"in_progress",children:"进行中"})]})}),t.jsx(E,{span:6,children:t.jsxs($,{placeholder:"组队模式",value:u.mode||void 0,onChange:g=>x({...u,mode:g||""}),allowClear:!0,style:{width:"100%"},children:[t.jsx(H,{value:"carry",children:"大佬带队"}),t.jsx(H,{value:"equal",children:"平等组队"})]})}),t.jsx(E,{span:6,children:t.jsx(M,{type:"link",onClick:()=>x({activity:"",status:"",mode:"",minCombatPower:0,maxCombatPower:999999}),children:"清除筛选"})})]})})]}),t.jsx(_r,{spinning:f,children:m.length===0?t.jsx(_t,{description:"暂无房间",style:{padding:"60px 0"},children:t.jsx(M,{type:"primary",icon:t.jsx(st,{}),onClick:()=>a(!0),children:"创建第一个房间"})}):t.jsx("div",{children:m.map(g=>t.jsx(oo,{room:g,currentUserId:e.id,onJoin:b,onView:v},g.id))})})]})]}),t.jsx(io,{visible:i,onCancel:()=>a(!1),onSuccess:()=>{a(!1),n()}})]}):t.jsx("div",{children:"用户信息加载中..."})},{Text:O}=J,{Option:Je}=$,uo=()=>{var f,u;const{user:e}=te(),{rooms:r,loading:n,refreshRooms:s}=nt(),[o,i]=y.useState("month"),[a,l]=y.useState({totalRooms:0,completedRooms:0,leaderRooms:0,averageRating:0,favoriteActivity:"",totalPlayTime:0,recentRooms:[]});y.useEffect(()=>{e&&r.length>0&&c()},[e,r,o]);const c=()=>{if(!e)return;const x=r.filter(w=>w.leader.id===e.id||w.members.some(T=>T.user.id===e.id)),j=new Date,d=x.filter(w=>{const T=new Date(w.createdAt);switch(o){case"week":return j.getTime()-T.getTime()<=7*24*60*60*1e3;case"month":return j.getTime()-T.getTime()<=30*24*60*60*1e3;default:return!0}}),m=d.filter(w=>w.status==="completed"),b=d.filter(w=>w.leader.id===e.id),v={};d.forEach(w=>{v[w.activity.id]=(v[w.activity.id]||0)+1});const g=Object.keys(v).reduce((w,T)=>v[w]>v[T]?w:T,""),S=m.reduce((w,T)=>w+T.activity.duration,0);l({totalRooms:d.length,completedRooms:m.length,leaderRooms:b.length,averageRating:e.reputation.overall,favoriteActivity:g,totalPlayTime:S,recentRooms:d.slice(0,10)})},p=[{title:"房间标题",dataIndex:"title",key:"title",render:x=>t.jsx(O,{strong:!0,children:x})},{title:"活动",dataIndex:"activity",key:"activity",render:x=>t.jsx(I,{children:t.jsx(O,{children:x.name})})},{title:"难度",dataIndex:"difficulty",key:"difficulty",render:x=>t.jsx(A,{color:"blue",children:x})},{title:"状态",dataIndex:"status",key:"status",render:x=>t.jsx(A,{color:ar(x),children:lr(x)})},{title:"角色",key:"role",render:(x,j)=>t.jsx(A,{color:j.leader.id===(e==null?void 0:e.id)?"gold":"green",children:j.leader.id===(e==null?void 0:e.id)?"队长":"队员"})},{title:"创建时间",dataIndex:"createdAt",key:"createdAt",render:x=>sr(x)}];if(!e)return t.jsx(R,{children:t.jsx(_t,{description:"请先登录查看统计数据"})});const h=me.find(x=>x.id===a.favoriteActivity);return t.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:t.jsxs(R,{title:t.jsxs(I,{children:[t.jsx(bt,{}),"数据统计"]}),extra:t.jsxs(I,{children:[t.jsxs($,{value:o,onChange:i,style:{width:120},children:[t.jsx(Je,{value:"week",children:"最近一周"}),t.jsx(Je,{value:"month",children:"最近一月"}),t.jsx(Je,{value:"all",children:"全部时间"})]}),t.jsx(M,{icon:t.jsx(Et,{}),onClick:s,loading:n,children:"刷新"})]}),children:[t.jsxs(B,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(E,{xs:24,sm:12,md:6,children:t.jsx(R,{size:"small",children:t.jsx(we,{title:"参与房间",value:a.totalRooms,prefix:t.jsx(Pe,{}),valueStyle:{color:"#1890ff"}})})}),t.jsx(E,{xs:24,sm:12,md:6,children:t.jsx(R,{size:"small",children:t.jsx(we,{title:"完成房间",value:a.completedRooms,prefix:t.jsx(wt,{}),valueStyle:{color:"#52c41a"}})})}),t.jsx(E,{xs:24,sm:12,md:6,children:t.jsx(R,{size:"small",children:t.jsx(we,{title:"带队次数",value:a.leaderRooms,prefix:t.jsx(Rr,{}),valueStyle:{color:"#fa8c16"}})})}),t.jsx(E,{xs:24,sm:12,md:6,children:t.jsx(R,{size:"small",children:t.jsx(we,{title:"游戏时长",value:a.totalPlayTime,suffix:"分钟",prefix:t.jsx(St,{}),valueStyle:{color:"#722ed1"}})})})]}),t.jsxs(B,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(E,{xs:24,md:12,children:t.jsx(R,{size:"small",title:"个人信息",children:t.jsxs(I,{direction:"vertical",style:{width:"100%"},children:[t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"游戏ID: "}),t.jsx(O,{strong:!0,children:e.gameId})]}),t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"职业: "}),t.jsx(A,{color:U[e.profession].color,children:t.jsxs(I,{size:4,children:[t.jsx("span",{children:U[e.profession].icon}),t.jsx("span",{children:U[e.profession].name})]})})]}),t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"玩家类型: "}),t.jsx(A,{color:V[e.playerType].color,children:V[e.playerType].name})]}),t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"战力: "}),t.jsx(O,{strong:!0,children:e.combatPower.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"信誉评分: "}),t.jsx(O,{strong:!0,style:{color:"#1890ff"},children:e.reputation.overall.toFixed(1)})]})]})})}),t.jsx(E,{xs:24,md:12,children:t.jsx(R,{size:"small",title:"游戏偏好",children:t.jsxs(I,{direction:"vertical",style:{width:"100%"},children:[t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"最喜欢的活动: "}),t.jsx(O,{strong:!0,children:(h==null?void 0:h.name)||"暂无数据"})]}),t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"完成率: "}),t.jsxs(O,{strong:!0,style:{color:"#52c41a"},children:[a.totalRooms>0?(a.completedRooms/a.totalRooms*100).toFixed(1):0,"%"]})]}),t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"带队率: "}),t.jsxs(O,{strong:!0,style:{color:"#fa8c16"},children:[a.totalRooms>0?(a.leaderRooms/a.totalRooms*100).toFixed(1):0,"%"]})]}),t.jsxs("div",{children:[t.jsx(O,{type:"secondary",children:"偏好时间: "}),t.jsx(A,{color:(f=e.preferences)!=null&&f.isFlexibleTime?"green":"orange",children:(u=e.preferences)!=null&&u.isFlexibleTime?"时间灵活":"固定时间"})]})]})})})]}),t.jsx(R,{size:"small",title:"最近参与的房间",children:t.jsx(Ir,{columns:p,dataSource:a.recentRooms,rowKey:"id",pagination:{pageSize:5,showSizeChanger:!1,showQuickJumper:!1},loading:n,locale:{emptyText:"暂无参与记录"}})})]})})},{Content:mo}=he,ho=()=>{const{isLoggedIn:e}=te(),{error:r,clearError:n}=Ws();return y.useEffect(()=>{r&&(N.error(r),n())},[r,n]),t.jsx("div",{className:"page-container",children:t.jsx("div",{className:"content-wrapper",children:t.jsxs(he,{style:{minHeight:"100vh",background:"transparent"},children:[t.jsx(Js,{}),t.jsxs(he,{style:{background:"transparent"},children:[e&&t.jsx(Qs,{}),t.jsx(mo,{style:{background:"transparent"},children:t.jsxs(Rn,{children:[t.jsx(ne,{path:"/",element:e?t.jsx(le,{to:"/teams",replace:!0}):t.jsx(eo,{})}),t.jsx(ne,{path:"/profile",element:e?t.jsx(ro,{}):t.jsx(le,{to:"/",replace:!0})}),t.jsx(ne,{path:"/teams",element:e?t.jsx(co,{}):t.jsx(le,{to:"/",replace:!0})}),t.jsx(ne,{path:"/statistics",element:e?t.jsx(uo,{}):t.jsx(le,{to:"/",replace:!0})}),t.jsx(ne,{path:"*",element:t.jsx(le,{to:"/",replace:!0})})]})})]})]})})})};W.locale("zh-cn");Ke.createRoot(document.getElementById("root")).render(t.jsx(jt.StrictMode,{children:t.jsx(Tn,{basename:"/Tastien",children:t.jsx(Pr,{locale:Kn,children:t.jsx(ho,{})})})}));
